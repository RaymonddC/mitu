# ==============================================
# MNEE Autonomous Payroll - Environment Template
# ETHEREUM VERSION (MNEE Hackathon)
# ==============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to git!

# -----------------------------
# Database Configuration
# -----------------------------
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/mnee_payroll?schema=public"

# -----------------------------
# Ethereum Network Configuration (MNEE Hackathon)
# -----------------------------
# Use Sepolia testnet for development, Ethereum mainnet for production
ETHEREUM_RPC_URL="https://sepolia.infura.io/v3/YOUR_INFURA_KEY_HERE"
ETHEREUM_CHAIN_ID=11155111  # Sepolia testnet

# Alternative RPC providers (choose one):
# Infura: https://infura.io/ (recommended)
# Alchemy: https://alchemy.com/
# ETHEREUM_RPC_URL="https://eth-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY"

# For production (Ethereum mainnet):
# ETHEREUM_RPC_URL="https://mainnet.infura.io/v3/YOUR_INFURA_KEY_HERE"
# ETHEREUM_CHAIN_ID=1

# -----------------------------
# MNEE Token Contract (ERC-20)
# -----------------------------
# This is the MNEE ERC-20 token contract address (NOT a wallet)
# Needed for wallet interactions - tells the frontend which token to use
# Official MNEE: 0x8ccedbAe4916b79da7F3F612EfB2EB93A2bFD6cF
# Your test token: 0x41557BA6e63f431788a6Ea1989C3FeF390c8Ab76
MNEE_TOKEN_ADDRESS="0x41557BA6e63f431788a6Ea1989C3FeF390c8Ab76"

# Batch Transfer Contract (Optional - for cost savings)
# Deploy instructions: See contracts/README_BATCH_DEPLOY.md
# Enables paying multiple employees in 1 transaction (saves ~36-76% gas)
# Leave empty to use individual transfers
BATCH_TRANSFER_CONTRACT_ADDRESS=""

# -----------------------------
# Non-Custodial Architecture
# -----------------------------
# This platform uses NON-CUSTODIAL wallet signing only.
# Employers keep funds in their own wallets.
# Platform NEVER holds private keys or custody of funds.
# Maximum security - zero custody liability.

# -----------------------------
# Backend Configuration
# -----------------------------
PORT=3001
NODE_ENV="development"
JWT_SECRET="change-this-to-a-secure-random-string-in-production"

# Session secret for authentication
SESSION_SECRET="another-secure-random-string"

# -----------------------------
# Frontend Configuration
# -----------------------------
NEXT_PUBLIC_API_URL="http://localhost:3001"

# Ethereum network for frontend (must match backend)
NEXT_PUBLIC_ETHEREUM_CHAIN_ID=11155111  # Sepolia testnet
# NEXT_PUBLIC_ETHEREUM_CHAIN_ID=1  # Mainnet for production

# MNEE token address (frontend needs this for wallet interactions)
# Must match the backend MNEE_TOKEN_ADDRESS
# Official MNEE: 0x8ccedbAe4916b79da7F3F612EfB2EB93A2bFD6cF
# Your test token: 0x41557BA6e63f431788a6Ea1989C3FeF390c8Ab76
NEXT_PUBLIC_MNEE_TOKEN_ADDRESS="0x41557BA6e63f431788a6Ea1989C3FeF390c8Ab76"

# Batch Transfer Contract (Optional - for gas savings)
# Leave empty if not deployed yet
# Enables batch payments (saves ~36-76% gas costs)
# Deploy instructions: See contracts/DEPLOY_V2_GUIDE.md
NEXT_PUBLIC_BATCH_TRANSFER_CONTRACT_ADDRESS=""

# WalletConnect Project ID (for MetaMask/WalletConnect integration)
# Get free project ID from: https://cloud.walletconnect.com/
# REQUIRED for wallet connection to work
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID="your_walletconnect_project_id"
WALLETCONNECT_PROJECT_ID="your_walletconnect_project_id"

# -----------------------------
# Agent Configuration
# -----------------------------
# How often to check for payroll (cron format)
AGENT_SCHEDULE="0 0 * * *"  # Daily at midnight UTC

# Enable/disable agent
AGENT_ENABLED="true"

# Retry configuration
AGENT_MAX_RETRIES="3"
AGENT_RETRY_DELAY_MS="5000"

# -----------------------------
# Optional: Infura/Alchemy API Keys
# -----------------------------
# Separate API keys for better organization (optional)
INFURA_API_KEY="your_infura_project_id"
ALCHEMY_API_KEY="your_alchemy_api_key"

# If set, these will be used instead of embedding in RPC URLs
# Example: ETHEREUM_RPC_URL="https://sepolia.infura.io/v3/${INFURA_API_KEY}"

# -----------------------------
# Optional: Monitoring & Alerts
# -----------------------------
# SENTRY_DSN=""
# SLACK_WEBHOOK_URL=""

# -----------------------------
# Optional: Etherscan API (for transaction verification)
# -----------------------------
# Get free API key from: https://etherscan.io/apis
# ETHERSCAN_API_KEY="your_etherscan_api_key"

# -----------------------------
# Development Notes
# -----------------------------
# 1. Generate test wallets: npx tsx scripts/generate-eth-wallets.ts
# 2. Fund platform wallet with Sepolia ETH (for gas): https://sepoliafaucet.com/
# 3. Get test MNEE tokens from hackathon organizers
# 4. Set up Infura account: https://infura.io/
# 5. Set up WalletConnect: https://cloud.walletconnect.com/
# 6. Update seed data with generated addresses
# 7. Run migrations: npm run db:migrate
# 8. Seed database: npm run db:seed
# 9. Start development: npm run dev

# -----------------------------
# Migration from Bitcoin to Ethereum
# -----------------------------
# This project was migrated from Bitcoin SV/MNEE Network to Ethereum
# See docs/ETHEREUM_MIGRATION.md for full migration guide
# Old .env variables are no longer needed:
# - MNEE_API_KEY (removed)
# - MNEE_RPC_URL (replaced with ETHEREUM_RPC_URL)
# - MNEE_CHAIN_ID (replaced with ETHEREUM_CHAIN_ID)
# - EMPLOYER_PRIVATE_KEY (replaced with PLATFORM_PRIVATE_KEY)
